/* Toolbar Component System */
.bc-toolbar {
  display: flex;
  align-items: center;
  gap: var(--spacing-stack-sm);
  padding: var(--spacing-sm);
  border: 1px solid var(--color-neutral-200);
  border-radius: var(--radius-control, var(--radius-md));
  background-color: var(--color-neutral-50);
  width: 100%;
}

.dark .bc-toolbar {
  background-color: var(--color-neutral-800);
  border-color: var(--color-neutral-700);
}

.bc-toolbar__group {
  display: flex;
  align-items: center;
  gap: 0;
}

.bc-toolbar__divider {
  width: 1px;
  height: calc(var(--spacing-base) * 6);
  background-color: var(--color-neutral-300);
  margin: 0 var(--spacing-xs);
}

.dark .bc-toolbar__divider {
  background-color: var(--color-neutral-600);
}

.bc-toolbar__spacer {
  flex: 1 1 auto;
}

.bc-toolbar__button {
  display: flex;
  align-items: center;
}

.bc-toolbar__button .bc-button {
  gap: var(--spacing-xs);
}

.bc-toolbar__button--icon-only .bc-button {
  /* Keep button height consistent; only adjust horizontal padding */
  padding-inline: var(--spacing-xs);
}

.bc-toolbar .bc-input-container {
  /* Reduce horizontal padding in toolbar but keep vertical from size */
  padding-inline: calc(var(--spacing-base) * 3);
  outline-width: 1px;
  outline-offset: -1px;
  width: auto;
  box-shadow: var(--shadow-none, none);
}

/* Container queries for responsive behavior */
@container (max-width: 480px) {
  .bc-toolbar {
    gap: var(--spacing-xs);
    padding: var(--spacing-xs);
  }

  .bc-toolbar__divider {
    height: calc(var(--spacing-base) * 4);
    margin: 0 var(--spacing-xs);
  }

  /* Hide only text labels at narrow widths; keep icons visible */
  .bc-toolbar__button
    .bc-button
    > span:not(.sr-only):not(.bc-icon):not(.bc-content-box) {
    display: none;
  }
}

/* ── Toolbar group button blending ── */

/* Strip all border-radius inside the group */
.bc-toolbar__group > .bc-button {
  border-radius: 0;
}

/* First child gets left radii */
.bc-toolbar__group > .bc-button:first-child {
  border-top-left-radius: var(--radius-control-sm, var(--radius-sm));
  border-bottom-left-radius: var(--radius-control-sm, var(--radius-sm));
}

/* Last child gets right radii */
.bc-toolbar__group > .bc-button:last-child {
  border-top-right-radius: var(--radius-control-sm, var(--radius-sm));
  border-bottom-right-radius: var(--radius-control-sm, var(--radius-sm));
}

/* Collapse borders between adjacent buttons */
.bc-toolbar__group > .bc-button + .bc-button {
  margin-left: -1.5px;
}

/* Ensure active/hover/focus buttons layer above neighbours */
.bc-toolbar__group > .bc-button[aria-pressed='true'],
.bc-toolbar__group > .bc-button.bc-toolbar__button--active {
  z-index: 1;
}

.bc-toolbar__group > .bc-button:hover {
  z-index: 2;
}

.bc-toolbar__group > .bc-button:focus-visible {
  z-index: 3;
}

/* ── Toolbar group button styling ── */

/* Base: transparent bg, no border, muted text */
.bc-toolbar__group > .bc-toolbar__button.bc-button {
  background-color: transparent;
  border-color: transparent;
  color: var(--color-base-600);
  transition: background-color var(--motion-transition-fast)
    var(--motion-easing-standard);
}

/* Hover: subtle tint, no scale/translate */
.bc-toolbar__group > .bc-toolbar__button.bc-button:hover:not(:disabled) {
  background-color: var(--color-base-100);
  color: var(--color-base-800);
  transform: none;
}

/* Active press: no translate */
.bc-toolbar__group > .bc-toolbar__button.bc-button:active:not(:disabled) {
  transform: none;
}

/* Active/pressed: primary highlight */
.bc-toolbar__group > .bc-toolbar__button.bc-button[aria-pressed='true'],
.bc-toolbar__group > .bc-toolbar__button.bc-button.bc-toolbar__button--active {
  background-color: var(--color-primary-100);
  color: var(--color-primary-700);
}

.bc-toolbar__group
  > .bc-toolbar__button.bc-button[aria-pressed='true']:hover:not(:disabled),
.bc-toolbar__group
  > .bc-toolbar__button.bc-button.bc-toolbar__button--active:hover:not(
    :disabled
  ) {
  background-color: var(--color-primary-200);
  color: var(--color-primary-800);
}

/* Dark mode */
.dark .bc-toolbar__group > .bc-toolbar__button.bc-button {
  color: var(--color-base-300);
}

.dark .bc-toolbar__group > .bc-toolbar__button.bc-button:hover:not(:disabled) {
  background-color: var(--color-base-700);
  color: var(--color-base-100);
}

.dark .bc-toolbar__group > .bc-toolbar__button.bc-button[aria-pressed='true'],
.dark
  .bc-toolbar__group
  > .bc-toolbar__button.bc-button.bc-toolbar__button--active {
  background-color: var(--color-primary-900);
  color: var(--color-primary-300);
}

.dark
  .bc-toolbar__group
  > .bc-toolbar__button.bc-button[aria-pressed='true']:hover:not(:disabled),
.dark
  .bc-toolbar__group
  > .bc-toolbar__button.bc-button.bc-toolbar__button--active:hover:not(
    :disabled
  ) {
  background-color: var(--color-primary-800);
  color: var(--color-primary-200);
}

/* Floating toolbar variant */
.bc-toolbar--floating {
  display: inline-flex;
  align-items: center;
  gap: 1px;
  padding: calc(var(--spacing-base) * 0.75);
  background: var(--color-white);
  border-radius: var(--radius-lg);
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.12);
  border: 1px solid var(--color-base-200);
  width: auto;
}

.bc-toolbar--floating .bc-toolbar__button .bc-button {
  width: calc(var(--spacing-base) * 7);
  height: calc(var(--spacing-base) * 7);
  min-width: calc(var(--spacing-base) * 7);
  min-height: calc(var(--spacing-base) * 7);
  padding: 0;
  border-radius: var(--radius-sm);
  border: none;
  background: transparent;
  font-size: var(--font-size-sm);
  color: var(--color-base-600);
  transition: background-color var(--motion-transition-fast)
    var(--motion-easing-standard);
}

.bc-toolbar--floating .bc-toolbar__button .bc-button:hover {
  background: var(--color-base-100);
}

.bc-toolbar--floating .bc-toolbar__button .bc-button[aria-pressed='true'],
.bc-toolbar--floating .bc-toolbar__button .bc-button.bc-button--active {
  background: var(--color-primary-100);
  color: var(--color-primary-700);
}

.bc-toolbar--floating .bc-toolbar__divider {
  width: 1px;
  height: calc(var(--spacing-base) * 5);
  background: var(--color-base-200);
  margin: 0 calc(var(--spacing-base) * 0.5);
  flex-shrink: 0;
}

/* Dark mode for floating toolbar */
.dark .bc-toolbar--floating {
  background: var(--color-base-800);
  border-color: var(--color-base-700);
}

.dark .bc-toolbar--floating .bc-toolbar__button .bc-button {
  color: var(--color-base-300);
}

.dark .bc-toolbar--floating .bc-toolbar__button .bc-button:hover {
  background: var(--color-base-700);
}

.dark .bc-toolbar--floating .bc-toolbar__button .bc-button[aria-pressed='true'],
.dark .bc-toolbar--floating .bc-toolbar__button .bc-button.bc-button--active {
  background: var(--color-primary-900);
  color: var(--color-primary-300);
}

.dark .bc-toolbar--floating .bc-toolbar__divider {
  background: var(--color-base-700);
}

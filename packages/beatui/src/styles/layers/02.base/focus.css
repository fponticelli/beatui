@layer base {
  /* Consistent Focus Styles for All Focusable Components */

  /* Base focus style for all focusable elements */
  *:focus-visible {
    outline: 2px solid var(--interactive-focus-light);
    outline-offset: -2px;
    border-radius: var(--radius-sm);
  }

  /* Dark mode focus styles */
  .b-dark *:focus-visible {
    outline-color: var(--interactive-focus-dark);
  }

  /* High contrast mode support */
  @media (prefers-contrast: high) {
    *:focus-visible {
      outline-width: 2px;
      outline-offset: 1px;
    }
  }

  /* Focus styles for specific component types */

  /* Button-like elements */
  button:focus-visible,
  [role="button"]:focus-visible,
  .bc-button:focus-visible {
    outline-offset: -2px;
  }

  /* Input-like elements */
  input:focus-visible,
  textarea:focus-visible,
  select:focus-visible,
  [contenteditable]:focus-visible,
  .bc-input:focus-visible,
  .bc-input-container:focus-within {
    outline-offset: -2px;
  }

  /* Link elements */
  a:focus-visible {
    outline-offset: -2px;
    border-radius: var(--radius-xs);
  }

  /* Custom component focus styles */
  .bc-switch:focus-visible {
    outline: none; /* Remove outline from container */
  }

  .bc-switch:focus-visible .bc-switch__track {
    outline: 2px solid var(--interactive-focus-light);
    outline-offset: -2px;
    border-radius: var(--radius-full);
  }

  .b-dark .bc-switch:focus-visible .bc-switch__track {
    outline-color: var(--interactive-focus-dark);
  }

  .bc-checkbox-input:focus-within,
  .bc-radio-input:focus-within {
    outline: 2px solid var(--interactive-focus-light);
    outline-offset: 2px;
    border-radius: var(--radius-sm);
  }

  .b-dark .bc-checkbox-input:focus-within,
  .b-dark .bc-radio-input:focus-within {
    outline-color: var(--interactive-focus-dark);
  }

  /* Modal and overlay focus management */
  .bc-modal:focus-visible,
  .bc-popover:focus-visible,
  .bc-tooltip:focus-visible {
    outline: none; /* These should manage focus internally */
  }

  /* Focus trap containers should not show focus outline */
  [data-focus-trap]:focus-visible {
    outline: none;
  }

  /* Ensure focus is visible on keyboard navigation */
  .js-focus-visible *:focus:not(.focus-visible) {
    outline: none;
  }
}
